<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · BoltzmannCollisionIntegral.jl</title><meta name="title" content="Overview · BoltzmannCollisionIntegral.jl"/><meta property="og:title" content="Overview · BoltzmannCollisionIntegral.jl"/><meta property="twitter:title" content="Overview · BoltzmannCollisionIntegral.jl"/><meta name="description" content="Documentation for BoltzmannCollisionIntegral.jl."/><meta property="og:description" content="Documentation for BoltzmannCollisionIntegral.jl."/><meta property="twitter:description" content="Documentation for BoltzmannCollisionIntegral.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img class="docs-light-only" src="assets/logo.svg" alt="BoltzmannCollisionIntegral.jl logo"/><img class="docs-dark-only" src="assets/logo-dark.svg" alt="BoltzmannCollisionIntegral.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>BoltzmannCollisionIntegral.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Assumptions"><span>Assumptions</span></a></li><li><a class="tocitem" href="#Discrete-Form-of-the-Boltzmann-Equation"><span>Discrete Form of the Boltzmann Equation</span></a></li><li><a class="tocitem" href="#Evaluation"><span>Evaluation</span></a></li></ul></li><li><a class="tocitem" href="quickstart/">Getting Started</a></li><li><a class="tocitem" href="crosssections/">Cross Sections</a></li><li><a class="tocitem" href="internalfunctions/">Internal Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cneverett/BoltzmannCollisionIntegral.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cneverett/BoltzmannCollisionIntegral.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="BoltzmannCollisionIntegral.jl"><a class="docs-heading-anchor" href="#BoltzmannCollisionIntegral.jl">BoltzmannCollisionIntegral.jl</a><a id="BoltzmannCollisionIntegral.jl-1"></a><a class="docs-heading-anchor-permalink" href="#BoltzmannCollisionIntegral.jl" title="Permalink"></a></h1><p><code>BoltzmannCollisionIntegral.jl</code> is a package for the evaluation of the Boltzmann collision integral for binary interactions of arbitrary momentum and anisotropic particle distributions using a method of momentum discretisation and Monte-Carlo integration. </p><p>The evaluation of the collision integral is of great use when studying kinetic system. The evolution of particle distributions <span>$f(x^\mu,\boldsymbol{p})$</span> within such a system is dictated by the collisional relativistic Boltzmann equation:</p><p class="math-container">\[p^\nu\partial_\nu f(x^\mu,\boldsymbol{p})+\partial_{p^\nu}\left(F^\nu f(x^\mu,\boldsymbol{p})\right)=C(x^\mu,\boldsymbol{p}),\]</p><p>where <span>$p^\mu=(p^0,\boldsymbol{p})$</span> is the 4-Momentum and <span>$C(x^\mu,\boldsymbol{p})$</span> is the collision integral at a particular point in spacetime <span>$x^\mu$</span>. From here we shall neglect the terms involving advection in space and advection on momentum-space (external forcing), as such the dependence on <span>$x^\mu$</span> is also dropped. What is left can be written as </p><p class="math-container">\[    \partial_t f(\boldsymbol{p}) = \frac{1}{p^0}C(\boldsymbol{p})\]</p><p>The collision integral for a particular particle <span>$3$</span> in the interaction <span>$12\rightleftharpoon34$</span> is given by </p><p class="math-container">\[    C(\boldsymbol{p}_3)=\int\frac{\mathrm{d}^3\boldsymbol{p}_1}{p_1^0}\frac{\mathrm{d}^3\boldsymbol{p}_2}{p_2^0}\frac{\mathrm{d}^3\boldsymbol{p}_4}{p_4^0}\left[\frac{f(\boldsymbol{p}_1)f(\boldsymbol{p}_2)}{1+\delta_{12}}W(p_1^\mu,p_2^\mu|p_3^\mu,p_4^\mu)- \frac{f(\boldsymbol{p}_3)f(\boldsymbol{p}_4)}{1+\delta_{12}}W(p_3^\mu,p_4^\mu|p_1^\mu,p_2^\mu)\right],\]</p><p>with the transition rate <span>$W$</span> being given by:</p><p class="math-container">\[W(p_1^\mu,p_2^\mu|p_3^\mu,p_4^\mu)=\frac{sp_{\text{in}}^{*2}}{\pi}\frac{\mathrm{d}\sigma_{12|34}}{\mathrm{d}t}(s,t)\delta^{(4)}(p_1^\mu+p_2^\mu-p_3^\mu-p_4^\mu),\]</p><p>and <span>$\frac{\mathrm{d}\sigma_{12|34}}{\mathrm{d}t}(s,t)$</span> is the Lorentz invariant differential cross section of the forward reaction <span>$12\to34$</span>.</p><p>The Boltzmann equation can then be discretised in momentum space by integrating over a discrete volume element <span>$\Delta^3\boldsymbol{p}_3$</span> to yield: </p><p class="math-container">\[\int_{\Delta^3\boldsymbol{p}_3}\frac{\mathrm{d}^3\boldsymbol{p}_3}{p_3^0}p_3^\mu\partial_\mu f(x^\mu,\boldsymbol{p}_3)=\int_{\Delta^3\boldsymbol{p}_3}\mathrm{d}^3\boldsymbol{p}_3~S_{spe}(x^\mu,\boldsymbol{p}_3)-T_{spe}(x^\mu,\boldsymbol{p}_3),\]</p><p>where the collision integral has been split into two parts, an emission spectrum</p><p class="math-container">\[S_{\text{spe}}(\boldsymbol{p}_3)=\frac{1}{1+\delta_{12}}\frac{1}{p^0_3}\int\frac{\mathrm{d}^3\boldsymbol{p}_1}{p_1^0}\frac{\mathrm{d}^3\boldsymbol{p}_2}{p_2^0}\frac{\mathrm{d}^3\boldsymbol{p}_4}{p_4^0}f(\boldsymbol{p}_1)f(\boldsymbol{p}_2)W(p_1^\mu,p_2^\mu|p_3^\mu,p_4^\mu),\]</p><p>math dictating the rate of gain of particles of a specific type at a specific momentum from a binary interaction, and an absorption spectrum </p><p class="math-container">\[T_{\text{spe}}(\boldsymbol{p}_3)=\frac{1}{1+\delta_{12}}\frac{1}{p^0_3}\int\frac{\mathrm{d}^3\boldsymbol{p}_1}{p_1^0}\frac{\mathrm{d}^3\boldsymbol{p}_2}{p_2^0}\frac{\mathrm{d}^3\boldsymbol{p}_4}{p_4^0} f(\boldsymbol{p}_3)f(\boldsymbol{p}_4)W(p_3^\mu,p_4^\mu|p_1^\mu,p_2^\mu),\]</p><p>dictating the rate of loss of particles of a specific type at a specific momentum from the same interaction.</p><h2 id="Assumptions"><a class="docs-heading-anchor" href="#Assumptions">Assumptions</a><a id="Assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#Assumptions" title="Permalink"></a></h2><p>In order to enable the evaluation of the emission and absorption terms, we make the following set of assumptions (dropping dependence on space-time for notational simplicity):  </p><ul><li>The system is axisymmetric in momentum space coordinates i.e. only dependant on <span>$p=|\boldsymbol{p}|$</span> and the cosine of the angle to the axis of symmetry (<span>$\hat{z}$</span>) <span>$\mu$</span> where <span>$\hat{z}\cdot\boldsymbol{p}=p\cos\theta=p\mu$</span> </li><li>The distribution functions are redefined in an axisymmetric form i.e. <span>$f(\boldsymbol{p})\equiv\frac{f(p,\mu)}{2\pi p^2}$</span>. This is done such that a single particle is described by the distribution <span>$f(p,\mu)=\delta(p-p_i)\delta(\mu-\mu_i)$</span>.</li><li>The axisymmetric distribution functions are averaged over phase space intervals <span>$\Delta p\Delta\mu$</span>, to generate discrete values i.e. <span>$f(t,p_i,\mu_j)=\frac{1}{\Delta p_i\Delta\mu_j}\int_{\Delta p_i\Delta\mu_j} \mathrm{d}p \mathrm{d}\mu~f(p,\mu)$</span>, such that they act as if they are constant over that interval of phase space.  </li><li>Particle masses, momenta and energies are normalised by a factor of the rest mass of the electron <span>$m_\text{Ele}$</span> and the speed of light <span>$c=1$</span>.</li></ul><h2 id="Discrete-Form-of-the-Boltzmann-Equation"><a class="docs-heading-anchor" href="#Discrete-Form-of-the-Boltzmann-Equation">Discrete Form of the Boltzmann Equation</a><a id="Discrete-Form-of-the-Boltzmann-Equation-1"></a><a class="docs-heading-anchor-permalink" href="#Discrete-Form-of-the-Boltzmann-Equation" title="Permalink"></a></h2><p>Following the assumptions laid out in the previous section. The axisymmetric, momentum-discrete Boltzmann equation is given by (remember the neglect of space and momentum-space advection terms)</p><p class="math-container">\[\partial_t f_{3,ij}=f_{1,kl}f_{2,mn}S_{12|34,ijklmn}-f_{3,ij}f_{4,kl}T_{34|12,ijkl}\]</p><p>The discrete emission spectrum term is a 6D array, given by</p><p class="math-container">\[f_{1,kl}f_{2,mn}S_{12|34,ijklmn}=f(p_{1,k},\mu_{1,l})f(p_{2,m},\mu_{2,n})\frac{\Delta p_{1,k}\Delta \mu_{1,l}\Delta p_{2,m}\Delta \mu_{2,n}}{\Delta p_{3,i}}\frac{1}{N}\sum^{N}_{a=1}\left[S_{val}\right](\{\boldsymbol{p}_1,\boldsymbol{p}_2,\boldsymbol{p}_3\}_a), \]</p><p>with </p><p class="math-container">\[S_{val}=\frac{1}{1+\delta_{12}}\sum_\pm\frac{2p_\pm^2\mathcal{F}_{12}^2}{p_1^0p_2^0}\frac{\mathrm{d}\sigma_{12|34}}{\mathrm{d}t}(s,t_\pm)\frac{1}{p_1^0p_\pm-p_\pm^0p_1\cos\Theta_{\pm1}+p_2^0p_\pm-p_\pm^0p_2\cos\Theta_{\pm2}},\]</p><p>where <span>$p_{\pm}$</span> are the two roots of <span>$(s+t-m_3^2-m_2^2-2p^\mu_1p_{4\mu})$</span>. </p><p>The discrete absorption term is a 4D Array, given by</p><p class="math-container">\[f_{3,ij}f_{4,kl}T_{34|12,ijkl}=f(p_{3,i},\mu_{3,j})f(p_{4,k},\mu_{4,l})\Delta\boldsymbol{p}_{4,k}\Delta\mu_{4,l}\frac{1}{N}\sum^{N}_{a=1}\left[T_{val}\right](\{\boldsymbol{p}_3,\boldsymbol{p}_4\}_a),\]</p><p>with</p><p class="math-container">\[T_{val}=\frac{1}{1+\delta_{12}}\frac{\mathcal{F}_{34}(s)\sigma_{34|12}(s)}{p_3^0p_4^0}.\]</p><p>and <span>$\sigma_{34|12}(s)$</span> the lorentz invariant total cross section of the reverse reaction <span>$34\to12$</span>.</p><h2 id="Evaluation"><a class="docs-heading-anchor" href="#Evaluation">Evaluation</a><a id="Evaluation-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation" title="Permalink"></a></h2><p>Given a user input of interaction to evaluate and what discretisation to use, the discrete emission spectra <span>$S_{12|34,ijklmn}$</span>, <span>$S_{12|43,ijklmn}$</span> and absorption spectra <span>$T_{12|34,ijkl}$</span>, <span>$T_{21|34,ijkl}$</span> are solved simultaneously by Monte-Carlo integration. This provides all matricies required to self consistently model the evolution of particles due to the forward interaction <span>$12\to34$</span>. </p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The order of the interaction in the absorption spectrum (<span>$34|12 \to 12|34$</span>) is changed for easier evaluation as sampled points can be used for both emission and absorption terms. Rather than solving for the forward and reverse reaction, only the forward reaction is solved for. Hence two sets of emission and absorption spectra are need to be generated in general to describe a single reversible reaction.  </p></div></div><p>The evaluation is performed by the functions <a href="internalfunctions/#BoltzmannCollisionIntegral.SpectraEvaluateSerial-Tuple{Tuple{String, String, String, String, Float64, Float64, Int64, Float64, Float64, Int64, Float64, Float64, Int64, Float64, Float64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, String, String}}">SpectraEvaluateSerial</a> or <a href="internalfunctions/#BoltzmannCollisionIntegral.SpectraEvaluateMultiThread-Tuple{Tuple{String, String, String, String, Float64, Float64, Int64, Float64, Float64, Int64, Float64, Float64, Int64, Float64, Float64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, Int64, String, String}}">SpectraEvaluateMultiThread</a> depending on if the code is to run in serially on a single core or multi-threaded on multiple cores of a single CPU. The code will then save the resulting multidimensional arrays.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The evaluation does not guarantee convergence of the Monte-Carlo integration, instead it will sample only a user defined number of points. A rough measure of convergence is calculated (based on comparison to the output of the previous run) and stored as <code>SConverge</code> and <code>TConverge</code> in the output file.</p></div></div><p>Evaluation is performed using <code>Float64</code> precision, with all <a href="internalfunctions/#Internal-Functions">Internal Functions</a> designed to maintain accuracy to this precision.</p><p>An in-depth setup guide is provided in the <a href="quickstart/#Getting-Started">Getting Started</a> section.  </p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="quickstart/">Getting Started »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Friday 2 August 2024 13:52">Friday 2 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
